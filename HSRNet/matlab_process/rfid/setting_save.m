tx_pos = [-0.5,0];
rx_pos = [3e8/915e6/2,-0.8];
tag_pos = [zeros(1,7); 0.5:0.05:0.8]';
freq = 990e6;

epoch_list = [0,1,2,3,4; ...
		5,6,7,8,9; ...
		10,11,12,13,14; ...
		15,16,17,18,19; ...
		20,21,22,23,24; ...
		25,26,27,28,29; ...
		30,31,32,33,33
	]';
refidx_list = 100*[2175,1845,1942,2056,2518; ...
		3189,2114,2315,65,2547; ...
		1271,2182,3342,1130,767; ...
		1714,1244,576,1902,1589; ...
		1063,1074,522,1864,1362; ...
		1048,1645,1160,3077,2179; ...
		2000,1883,1713,2307,1435
	]';
phase_list1 = [153.8,168,172.5,164.2,172.9; ...
		53.8,54.8,66.6,52.6,71; ...
		-16.2,-10.8,-12.2,-20.4, -31.9; ...
		-141.2,-145.1,-152,-142.5, -150.1; ...
		117.4,118.9,122,113,107.7; ...
		49.9,47.3,56.8,42.1,62.2; ...
		-56.6,-98.9,-75.6,-111.5,-120
	]';
phase_list2 = [163.2,165.5,171.2,166.4,171.4; ...
		63.4,61.8,61,62,64.5; ...
		-15.1,-15.5,-17.8,-16.3, -14.3; ...
		-136.3,-143.2,-144,-144.5, -144.2; ...
		120,122.1,118.1,119.7,119.8; ...
		44.4,48.6,38.9,43.7,51.3; ...
		-92.6,-82.5,-96.2,-92, -98.2
	]';
phase1 = mean(phase_list1,2);
phase2 = mean(phase_list2,2);


%save('../../rxdata/test/setting.mat');

txdis = abs((tx_pos - tag_pos)*[1;1i]);
rxdis = abs((rx_pos - tag_pos)*[1;1i]);
grd_phase = -(txdis+rxdis)*freq/3e8*360;
grd_phase = mod(grd_phase-grd_phase(1),360);

phase1 = mod(phase1-phase1(1),360);
phase2 = mod(phase2-phase2(1),360);

disp(grd_phase);
disp(phase2);

% figure; hold on;
% plot(0.5:0.05:0.8,grd_phase);
% plot(0.5:0.05:0.8,phase1);
% plot(0.5:0.05:0.8,phase2);
% xlabel('tag pos in y-axis/m');
% ylabel('degree');
% legend('ground truth','using H_h as Hest','using H_high-H_l as Hest');
% 
% figure; hold on;
% plot(0.5:0.05:0.8,phase_list1,'.','Color','red');
% plot(0.5:0.05:0.8,phase_list2,'.','Color','blue');




